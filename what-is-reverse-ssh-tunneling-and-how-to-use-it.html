<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>What Is Reverse SSH Tunneling? (and How to Use It) | BlinkDash</title><meta name=generator content="Hugo 0.98.0"><meta name=description content="Quick LinksWhen You'll Want to Use Reverse SSH Tunneling  What Is Reverse SSH Tunneling?  How Does SSH Reverse Tunneling Work?  Using SSH Reverse Tunneling  Connecting to the Remote Computer  Using SSH With Keys  Not All Tunnels Are Scary   Key Takeaways   Use reverse SSH tunneling when you need to connect to a remote computer that is hard to reach due to firewall rules or complex network configurations."><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/normalize.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" rel=stylesheet type=text/css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cayman/css/cayman.css><link rel=apple-touch-icon sizes=180x180 href=./apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=./favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=./favicon-16x16.png><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css integrity=sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js integrity=sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></head><body><section class=page-header><h1 class=project-name>BlinkDash</h1><h2 class=project-tagline></h2><nav><a href=./index.html class=btn>Blog</a>
<a href=./sitemap.xml class=btn>Sitemap</a>
<a href=./index.xml class=btn>RSS</a></nav></section><section class=main-content><h1>What Is Reverse SSH Tunneling? (and How to Use It)</h1><div><strong>Publish date: </strong>0001-01-01</div><h3>Quick Links</h3><ul class=table-content-level-1><li><a href=#>When You'll Want to Use Reverse SSH Tunneling</a></li></ul><ul class=table-content-level-1><li><a href=#>What Is Reverse SSH Tunneling?</a></li></ul><ul class=table-content-level-1><li><a href=#>How Does SSH Reverse Tunneling Work?</a></li></ul><ul class=table-content-level-1><li><a href=#>Using SSH Reverse Tunneling</a></li></ul><ul class=table-content-level-1><li><a href=#>Connecting to the Remote Computer</a></li></ul><ul class=table-content-level-1><li><a href=#>Using SSH With Keys</a></li></ul><ul class=table-content-level-1><li><a href=#>Not All Tunnels Are Scary</a></li></ul><h3 class="title icon i-list">Key Takeaways</h3><ul><li>Use reverse SSH tunneling when you need to connect to a remote computer that is hard to reach due to firewall rules or complex network configurations.</li><li>Reverse SSH tunneling allows you to establish a new connection from your local computer back to the remote computer using the existing connection.</li><li>Set up SSH keys to make it more convenient to connect from the remote computer to the local computer without being challenged for a password.</li></ul><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Need to SSH to an unreachable Linux computer? Have it call you, then burrow down that connection to get your own remote SSH session. We show you how.</p><h2 id=when-you-39-ll-want-to-use-reverse-ssh-tunneling>When You'll Want to Use Reverse SSH Tunneling</h2><p>Sometimes, remote computers can be hard to reach. The site they are located at may have tight firewall rules in place, or perhaps the local admin has set up complex <a href=#>Network Address Translation</a> rules. How do you reach such a computer if you need to connect to it?</p><p>Let's establish some labels. Your computer is the local computer because it is near you. The computer you are going to connect to is the remote computer because it is in a different location than you.</p><p>To differentiate between the local and remote computers used in this article, the remote computer is called "howtogeek" and is running <a href=#>Ubuntu Linux</a> (with purple terminal windows). The local computer is called "Sulaco" and is running <a href=#>Manjaro</a> Linux (with yellow terminal windows).</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Normally you'd fire up an <a href=#>SSH connection</a> from the local computer and connect to the remote computer. That isn't an option in the networking scenario we're describing. It really doesn't matter what the specific network issue is — this is useful whenever you can't SSH straight to a remote computer.</p><p>But if the networking configuration on your end is straightforward, the remote computer can connect to you. That alone isn't sufficient for your needs, however, because it doesn't provide you with a working command-line session on the remote computer. But it is a start. You have an established connection between the two computers.</p><p>The answer lies in reverse SSH tunneling.</p><h2 id=what-is-reverse-ssh-tunneling>What Is Reverse SSH Tunneling?</h2><p>Reverse SSH tunneling allows you to use that established connection to set up a new connection from your local computer back to the remote computer.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Because the original connection came from the remote computer to you, using it to go in the other direction is using it "in reverse." And because <a href=#>SSH is secure</a>, you're putting a secure connection inside an existing secure connection. This means your connection to the remote computer acts as a private tunnel inside the original connection.</p><p>And so we arrive at the name "reverse SSH tunneling."</p><h2 id=how-does-ssh-reverse-tunneling-work>How Does SSH Reverse Tunneling Work?</h2><p>Reverse SSH tunneling relies on the remote computer using the established connection to listen for new connection requests from the local computer.</p><p>The remote computer listens on a network port on the local computer. If it detects an SSH request to that port, it relays that connection request back to itself, down the established connection. This provides a new connection from the local computer to the remote computer.</p><p>It's easier to set up than it is to describe.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=using-ssh-reverse-tunneling>Using SSH Reverse Tunneling</h2><p>SSH will already be installed on your Linux computer, but you may need to start the SSH daemon (sshd) if the local computer has never accepted SSH connections before.</p><pre>sudo systemctl start sshd</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_10.png><p>To have the SSH daemon start each time you reboot your computer, use this command:</p><pre>sudo systemctl enable sshd</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_11.png><p>On the remote computer, we use the following command.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><ul><li>The <code>-R</code> (reverse) option tells <code>ssh</code> that new SSH sessions must be created on the remote computer.</li><li>The "43022:localhost:22" tells <code>ssh</code> that connection requests to port 43022 on the local computer should be forwarded to port 22 on the remote computer. Port 43022 was chosen because it is <a href=#>listed as being unallocated</a>. It isn't a special number.</li><li>dave@sulaco.local is the user account the remote computer is going to connect to on the local computer.</li></ul><pre>ssh -R 43022:localhost:22 dave@sulaco.local</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/3-2.png><p>You may get a warning about having never connected to the local computer before. Or you may see a warning as the connection details are added to the list of recognized SSH hosts. What you see — if anything — depends on whether connections have ever been made from the remote computer to the local computer.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You will be prompted for the password of the account you are using to connect to the local computer.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/4-2.png><p>Note that when the connection has been made the command prompt changes from dave@howtogeek to dave@sulaco.</p><p>We're now connected to the local computer from the remote computer. That means we can issue commands to it. Let's use the <code>who</code> command to see the logins on the local computer.</p><pre>who</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/5-1.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>We can see that the person with the user account called dave has logged in to the local computer, and the remote computer has connected (using the same user credentials) from IP address 192.168.4.25.</p><h2 id=connecting-to-the-remote-computer>Connecting to the Remote Computer</h2><p>Because the connection from the remote computer is successful, and it is listening for connections, we can try to connect to the remote computer from the local one.</p><p>The remote computer is listening on port 43022 on the local computer. So — somewhat counter-intuitively — to make a connection to the remote computer, we ask <code>ssh</code> to make a connection the local computer, on port 43022. That connection request will be forward to the remote computer.</p><pre>ssh localhost -p 43022</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/output-onlinepngtools-4.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>We are prompted for the user account password, then connected to the remote computer from the local computer. Our Manjaro computer happily says, "Welcome to Ubuntu 18.04.2 LTS".</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_02.png><p>Note that the command prompt has changed from dave@sulaco to dave@howtogeek. We've achieved our goal of making an SSH connection to our hard-to-reach remote computer.</p><h2 id=using-ssh-with-keys>Using SSH With Keys</h2><p>To make it more convenient to connect from the remote computer to the local computer, we can set up SSH keys.</p><p>On the remote computer, type this command:</p><pre>ssh-keygen</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_06.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You will be prompted for a passphrase. You can press Enter to ignore the passphrase questions, but this is not recommended. It would mean that anyone on the remote computer could make an SSH connection to your local computer without being challenged for a password.</p><p>Three or four words separated by symbols will make a robust passphrase.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_07.png><p>Your SSH keys will be generated.</p><p>We need to transfer the public key to the local computer. Use this command:</p><pre>ssh-copy-id dave@sulaco.local</pre><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_08.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>You will be prompted for the password for the user account you are logging in to, in this case, dave@sulaco.local.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/07/revssh_09.png><p>The first time you make a connection request from the remote computer to the local computer, you will have to provide the passphrase. You will not have to enter it again for future connection requests, for as long as that terminal window remains open.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/static1.howtogeekimages.com/wordpress/wp-content/uploads/2019/06/ssh_12.png> <strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=not-all-tunnels-are-scary>Not All Tunnels Are Scary</h2><p>Some tunnels can be dark and twisty, but reverse SSH tunneling isn't too hard to navigate if you can keep the relationship between the remote computer and local computer straight in your head. Then reverse it. To make things easier, you can always <a href=#>setup an SSH config file</a> that allows you to streamline things like tunneling or <a href=#>ssh agent forwarding</a>.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7qbvWraagnZWge6S7zGhra3BkZoBww8eaq2aho2K%2FpsLEq6qeZaOotW7A1KelnqSZo7Rurc2dZKGnp2LBsHnUrJxmoaRk</p><footer class=site-footer><span class=site-footer-credits>Made with <a href=https://gohugo.io/>Hugo</a>. © 2022. All rights reserved.</span></footer></section><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>